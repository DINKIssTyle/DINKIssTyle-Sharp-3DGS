# Sharp Swift 🚀

<p align="center">
  <img src="Docs/Sharp_Swift.gif" alt="Video Demo" width="80%">
</p>

**Sharp Swift**는 정적인 2D 이미지를 몰입감 있는 3D Gaussian Splatting 장면으로 변환해주는 최첨단 macOS 애플리케이션입니다. 성능과 사용 편의성에 중점을 두고 개발되었으며, 강력한 머신러닝 파이프라인과 고성능 네이티브 Metal 렌더러를 결합했습니다.

아티스트, 개발자, 3D 애호가 등 누구든지 Sharp Swift를 사용하여 사진 한 장으로 3D 장면을 생성하고, 감상하고, 애니메이션을 만들어 공유할 수 있습니다.

## ✨ 주요 기능

### 🖼️ 이미지 3D 변환 (Image to 3D)
- **즉시 생성**: 이미지를 드래그 앤 드롭하는 것만으로 변환 작업이 시작됩니다.
- **자동화 파이프라인**: `ml-sharp`를 활용한 복잡한 백엔드 로직을 앱이 자동으로 처리하여, 2D 픽셀을 3D Gaussian Splat 포인트 클라우드로 변환합니다.

### ⚡️ 네이티브 Metal 렌더러
- **고성능**: Apple Silicon에 최적화된 **Metal API** 기반의 자체 제작 렌더링 엔진으로 부드러운 성능을 제공합니다.
- **True 3D 시각화**: 수백만 개의 Splat을 올바른 정렬(Sorting)과 투명도 블렌딩을 통해 실시간으로 렌더링합니다.

### 🎥 애니메이션 & 타임라인
- **키프레임 시스템**: 타임라인에 키프레임을 추가하여 역동적인 카메라 움직임을 만들 수 있습니다.
- **보간(Interpolation)**: 키프레임 사이를 부드럽게 연결하여 영화 같은 카메라 연출이 가능합니다.
- **재생 제어**: 실시간으로 애니메이션을 재생, 일시 정지, 탐색(Scrubbing)할 수 있습니다.

### 📤 비디오 내보내기
- **해상도 설정**: **360p**부터 **4K (2160p)**까지 다양한 해상도로 애니메이션을 내보낼 수 있습니다.
- **고품질 리사이징**: Metal Performance Shaders (MPS)를 사용한 고품질 다운스케일링으로, 720p 같은 낮은 해상도에서도 선명한 결과물을(HiDPI 디스플레이 대응) 보장합니다.
- **프레임 레이트**: 24, 30, 60 FPS 중 선택하여 비디오를 저장할 수 있습니다.

### 🛠️ 설정 없는 간편한 설치 (Zero-Config)
- **자동 환경 관리**: 첫 실행 시 Python 가상 환경 설정, 의존성 설치, 필요한 ML 모델 다운로드를 앱이 알아서 수행합니다.

---

## � 사용 가이드 (Usage Guide)

### 1. 초기 설정 (Initial Setup)
앱을 처음 실행하면 상단에 노란색 **"Setup Required"** 버튼이 표시됩니다.
1. 이 버튼을 클릭하세요.
2. 앱이 자동으로 다음 작업을 수행합니다:
    - `~/Documents/Sharp Swift` 작업 폴더 생성.
    - Python 가상 환경(venv) 구성.
    - 필요한 머신러닝 모델 다운로드.
3. 상태가 **초록색 (Ready)**으로 바뀌면 준비 완료입니다!

### 2. 파일 불러오기
- **드래그 앤 드롭**: 이미지 파일(`.jpg`, `.png`)이나 3D 스캔 파일(`.ply`)을 앱 창으로 드래그하면 바로 열립니다.
- **파일 열기**: 우측 상단의 **"Open Image / PLY"** 버튼을 눌러 파일을 선택할 수도 있습니다.

### 3. 뷰어 컨트롤
**상단 툴바 기능:**
- `x`: 뷰어 닫기.
- `⟲`: 카메라를 초기 위치로 리셋.
- `Scope`: "클릭하여 초점 맞추기(Click-to-Focus)" 모드 토글.
- `Clock`: **애니메이션 타임라인** 보이기/숨기기.
- `Speed`: 카메라 이동 속도(감도) 조절.
- `FOV`: 시야각(Field of View) 조절.

**키보드 단축키:**
- **이동**: `W` / `S` (앞/뒤), `A` / `D` (좌/우), `X` / `Z` (상/하)
- **회전**: `Q` / `E` (좌우 회전), `C` / `V` (상하 회전), `R` / `F` (기울기/Roll)
- **부스트**: `Shift` 키를 누른 채 이동하면 빨라집니다.
- **기타**: `Esc` (뷰어 닫기)

**마우스 조작:**
- **좌클릭 드래그**: 회전 (Orbit)
- **우클릭 드래그**: 이동 (Pan)
- **스크롤**: 확대/축소 (Zoom)
- **Option + 좌클릭**: 기울기 (Roll)

### 4. 동영상 제작 및 내보내기
1. 상단 툴바의 **시계 아이콘**을 눌러 타임라인을 엽니다.
2. **키프레임 추가**: 
   - 카메라를 원하는 구도로 이동합니다.
   - 좌측의 **"Add Key"** 버튼을 누릅니다.
   - 슬라이더를 원하는 시간대(프레임)로 이동합니다.
   - 카메라를 다음 구도로 이동시킨 후 **"Add Key"**를 다시 누릅니다.
3. **미리보기**: 슬라이더를 드래그하거나 재생(▶) 버튼을 눌러 확인합니다.
4. **내보내기 (Export)**:
   - 중앙 입력창에 **총 프레임 수**를 입력합니다 (기본 300, 최대 999).
   - 우측에서 **해상도** (예: `1080p`)와 **FPS**를 선택합니다.
   - **"Export"** 버튼을 누르면 `.mp4` 영상으로 저장됩니다.

---

## 🏗️ 소스 코드 빌드

1. 저장소 클론:
   ```bash
   git clone https://github.com/DINKIssTyle-Sharp-3DGS/Sharp-Swift.git
   cd Sharp-Swift
   ```

2. 빌드 스크립트 실행:
   ```bash
   ./build.sh
   ```
   이 스크립트는 Swift 코드를 컴파일하고 에셋을 처리하여 `Sharp Swift.app`을 생성합니다.

3. 앱 실행:
   ```bash
   open "./Sharp Swift.app"
   ```

---

## 🧩 아키텍처

- **프론트엔드**: Swift (AppKit/SwiftUI)
- **렌더링**: MetalKit (Custom Shader Pipeline)
- **백엔드 (ML)**: Python (ml-sharp), `ProcessRunner`를 통해 통합
- **비디오 인코딩**: AVFoundation

---

## 📜 라이선스

이 프로젝트는 교육 및 연구 목적으로 제작되었습니다. 기본 머신러닝 모델 사용에 관한 자세한 내용은 `ml-sharp` 라이선스를 참조하시기 바랍니다.
