# 구현 현황 (Implementation Summary)

## 1. 프로젝트 개요
- **앱 이름**: Sharp Swift
- **목표**: 이미지 한 장으로 3D Gaussian Splatting 모델을 생성하고 바로 감상할 수 있는 macOS 단독 애플리케이션 개발.
- **기술 스택**: Swift (App/UI), Python (ML Core), Rust (Viewer)

## 2. 주요 구현 기능

### A. 사용자 인터페이스 (GUI)
- **Drag & Drop**: 이미지(변환) 및 .ply 파일(뷰어 실행)을 드래그 앤 드롭으로 처리.
- **Setup Indicator**: 실행 환경(Python venv, Model, Viewer Binary) 준비 상태를 상단 바에 색상(초록/주황)으로 표시.
- **Progress Overlay**: 변환 및 설정 중 지저분한 로그 대신 깔끔한 진행 상태(Spinner) 오버레이 표시.
- **Window Management**: 뷰어 실행 시 메인 런처 창을 자동으로 숨기고, 뷰어 종료 시 다시 나타나게 하여 매끄러운 앱 경험 제공.
- **About Sheet**: 앱 정보 및 저작권, 라이선스 고지(Apache 2.0) 화면 구현.

### B. 핵심 로직 및 백엔드 통합
- **Python 환경 자동화**: 
  - `~/Documents/Sharp Swift/.venv`에 독립적인 가상환경 구축.
  - 시스템 내 최신 Python(3.11+)을 자동 감지하여 호환성 문제 해결.
  - `ml-sharp` 및 의존성 라이브러리 자동 설치.

- **리소스 관리**:
  - 모델 파일(`sharp_*.pt`) 자동 다운로드.
  - 변환된 결과물(`output/*.ply`) 관리 및 자동 뷰어 실행.
  - **버그 수정**: 다중 변환 시 항상 가장 최신의 결과물(.ply)을 로드하도록 로직 개선.

### C. 배포 및 빌드 시스템
- **build.sh 스크립트 작성**:
  - `swift build -c release`를 통한 최적화된 바이너리 생성.
  - macOS 표준 `.app` 번들 구조(Contents/MacOS, Resources 등) 자동 생성.
  - `Info.plist`, 아이콘(icns 변환 포함), 라이선스 파일 등 리소스 패키징.
  - Ad-hoc 코드 사이닝 적용으로 로컬 실행 가능.
- **메타데이터**:
  - `Info.plist`에 저작권 정보("(C) 2025 DINKI'ssTyle"

### D. 버그 수정 (2025-12-18)
- **Bundle.module 크래시 이슈 해결**:
  - **문제**: 배포된 환경에서 SwiftPM의 `Bundle.module`이 참조하는 리소스 번들이 누락될 경우 앱이 즉시 강제 종료(`SIGTRAP`)되는 현상 발생.
  - **해결**:
    - `Bundle.module` 직접 사용을 제거하고, 안전한 수동 리소스 조회 방식으로 변경.
    - 1순위: `Bundle.main`(앱 번들) 내 리소스 직접 조회.
    - 2순위: `~/Documents`(사용자 경로) 내 바이너리 조회 (복구 지원).
    - 3순위: 리소스 번들 이름을 수동으로 조합하여 안전하게 조회 (크래시 방지).
  - **효과**: 리소스 바이너리가 없더라도 앱이 죽지 않고 Setup 화면으로 진입하여 정상적으로 파일 생성/복구 가능.

## 3. 파일 구조 정리
- **SharpConverter/**: Swift 메인 프로젝트 소스.
- **build.sh**: 원클릭 빌드 스크립트.

## 4. 라이선스 및 저작권
- **GUI & App Logic**: (C) 2025 DINKI'ssTyle
- 관련 문구 및 라이선스 전문을 앱 내 'About' 메뉴에 포함.
